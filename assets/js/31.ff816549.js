(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{362:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("gitlab-ci 与 circle-ci 对比\n")]),t._v(" "),a("h1",{attrs:{id:"gitlab-ci-vs-circle-ci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci-vs-circle-ci"}},[t._v("#")]),t._v(" GitLab CI VS Circle CI")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"gitlab-ci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci"}},[t._v("#")]),t._v(" GitLab CI")]),t._v(" "),a("blockquote",[a("p",[a("em",[t._v("for me i'm use linux, so just tested on linux locally")])])]),t._v(" "),a("h4",{attrs:{id:"_1-gitlab-ci-yml-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-gitlab-ci-yml-config"}},[t._v("#")]),t._v(" 1 .gitlab-ci.yml config")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" production\n    \n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("production")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" deploy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" test\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" test1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" production\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ruby"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" apt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("get update "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("qy\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" apt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("get install "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("y ruby"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("dev\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" gem install dpl\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" dpl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("provider=heroku "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("app=heroku_node_restful_api "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("key=$HEROKU_API_KEY\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("only")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n")])])]),a("h4",{attrs:{id:"_2-install-gitlab-runner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-install-gitlab-runner"}},[t._v("#")]),t._v(" 2 install gitlab-runner")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# get yum pakage")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo -s pwd")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gitlab-runner\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# register runner / register info is in setteing/CI/Runners")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" gitlab-runner register \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# run local gitlab-runner")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" gitlab-runner run  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# more opts like : start | status | stop")]),t._v("\n")])])]),a("p",[t._v("now we are able to see the runner in setteing/CI/Runners")]),t._v(" "),a("blockquote",[a("p",[a("em",[t._v("Note: tags is needed by default, you can choose to not use tags by edit the runner")])])]),t._v(" "),a("h4",{attrs:{id:"_3-runner-manage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-runner-manage"}},[t._v("#")]),t._v(" 3 runner manage")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# check all runners")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" gitlab-runner list\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# unregister runner by name")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" gitlab-runner unregister --name "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n\n\n")])])]),a("hr"),t._v(" "),a("p",[a("strong",[t._v("let's end it here for now, Why need a runner ? Circle-CI seems not need, let dig into it, we'll see")])]),t._v(" "),a("h2",{attrs:{id:"circle-ci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#circle-ci"}},[t._v("#")]),t._v(" Circle-CI")])])}),[],!1,null,null,null);s.default=e.exports}}]);