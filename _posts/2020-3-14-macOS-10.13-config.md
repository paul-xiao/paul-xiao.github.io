---
title: MacOS Mojave configurations
date: 2020-3-3 10:17
tags:
- mac
categories:
- OS
comments: true
thumbnail: '/thumbnails/macos.jpg'
---

#### install homebrew

```sh
# get ruby shell
https://raw.githubusercontent.com/Homebrew/install/master/install

# save as
brew_install.rb

# replace BREW_REPO = "https://github.com/Homebrew/brew".freeze as below
BREW_REPO = "https://mirrors.ustc.edu.cn/brew.git".freeze

# exec
usr/bin/ruby path/to/brew_install.rb

# change brew src (check ref 1)
...

# Running Homebrew as root is extremely dangerous and no longer supported
sudo chown -R $(whoami) /usr/local/Homebrew/
```

#### expo simulator
auto start with expo run ios

#### install mongodb on mac

```sh
# get source
brew tap mongodb/brew
# install
brew install mongodb-community@4.2

# start
#To have launchd start mongodb/brew/mongodb-community now and restart at login:
  brew services start mongodb/brew/mongodb-community
# Or, if you don't want/need a background service you can just run:
  mongod --config /usr/local/etc/mongod.conf



```

### 重装系统
1. U盘制作安装器
```sh
# 直接输入 可自动制作安装器
sudo /Applications/Install\ macOS\ Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume
# refs: https://support.apple.com/zh-cn/HT201372

```
2. 分区
> 使用默认的volume（Macintosh HD）安装，要不要可能会出现spotlight index错误，查找不到任何东西
3. 重启按option 选择u盘启动
4. 下一步 下一步。。。


### 生成ssh-key

```sh
ssh-keygen -t rsa -C "youremail@example.com"
```

### 安装vscode
```sh
# 下载vscode
https://code.visualstudio.com

# 下载完成后将vscode拖入应用程序

# 配置环境变量
vim ~/.bash_profile
export PATH=/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin:$PATH
#保存退出
source ~/.bash_profile
code . #当前目录就被打开了。


```
----
### xcode
> Mojava 最高支持xcode 11.3.1 [relases node](https://developer.apple.com/documentation/xcode-release-notes/xcode-11_3_1-release-notes)

```sh
#解压xip文件
## 允许安装任意来源的软件
sudo spctl --master-disable

## 去除解压验证
xattr -d com.apple.quarantine Xcode_11.3.1.xip

##双击解压xip文件

```

##### refs

1. [Mac HomeBrew国内镜像安装方法](https://juejin.im/post/5c738bacf265da2deb6aaf97)
2. [Running Homebrew as root is extremely dangerous and no longer supported](https://segmentfault.com/q/1010000007575129)
