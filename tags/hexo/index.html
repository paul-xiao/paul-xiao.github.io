<html>
<title>PaulXiao</title>
<head><meta name="generator" content="Hexo 3.9.0">
<meta charset="utf-8">
 
    <link rel="stylesheet" href="/styles/index.css">
  
  <link rel="stylesheet" href="/styles/font-awesome-4.7.0/css/font-awesome.min.css">
</head></html>
<body>
  <div id="container">
    <div id="wrap">
      <header class="header">
<div class="wrapper">
<div class="logo">
   <img src="images/baby.jpg" alt="" style="display:none">
   <span class="slogan">
    <h1>Pulse</h1>
    <p>Simple but works like a charm</p>
   </span>
</div>
<nav>

    <a class="main-nav-link"  href="/projects">Projects</a>

    <a class="main-nav-link"  href="/">Articles</a>

    <a class="main-nav-link"  href="/gallery">Gallery</a>

    <a class="main-nav-link"  href="/about">About</a>

</nav>
</div>
</header>
      <div class="outer">
        <section id="main"><div class="archive">
 <div class="title">Articles</div>
 <div class="wrap">
<div class="left">


<div class="archive-item">
     <div class="archive-head">
        <div class="title">
          <a href="/hexo-theme/">customize hexo theme</a>
        </div>
        <div class="info">
        
            <span class="author">
            <span class="fa fa-user-o"></span>paul xiao
            </span>
             
            <span class="publish-date"><span class="fa fa-clock-o"></span>2019/7/17</span>
             <span class="categories">
              
             <span class="fa fa-th-list"></span>
              
                <span>frontend</span>
              
               
            </span>
            <span class="tags">
            
               <span class="fa fa-tags"></span>
                
                <span>hexo</span>
              
              
            </span>
        </div>
     </div>
    <div class="archive-main">
        <div class="article-image">
          <a href="/hexo-theme/"><img id="my_img" src="/images/baby.jpg" alt=""></a>
        </div>
        <div class="article-entry">
        
          <p><em>customeize hexo theme arrange (a group of people or things) in classes or categories according to shared qualities or characteristics.</em></p>
<a id="more"></a>
<h4 id="scaffolds"><a href="#scaffolds" class="headerlink" title="scaffolds"></a>scaffolds</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|--- pulse</span><br><span class="line">|    |--- languages</span><br><span class="line">|         |--- en.yml</span><br><span class="line">|         |--- zh-CN.yml</span><br><span class="line">|    |--- layout</span><br><span class="line">|         |--- _partial</span><br><span class="line">|              |--- article.ejs</span><br><span class="line">|              |--- header.ejs</span><br><span class="line">|              |--- footer.ejs</span><br><span class="line">|              |--- side.ejs</span><br><span class="line">|         |--- index.ejs</span><br><span class="line">|         |--- post.ejs</span><br><span class="line">|         |--- page.ejs</span><br><span class="line">|         |--- archive.ejs</span><br><span class="line">|         |--- layout.ejs</span><br><span class="line">|    |--- scripts</span><br><span class="line">|    |--- source</span><br><span class="line">|    |--- _config.yml</span><br></pre></td></tr></table></figure>

<h4 id="ejs"><a href="#ejs" class="headerlink" title="ejs"></a>ejs</h4><h4 id="Partial-局部模版"><a href="#Partial-局部模版" class="headerlink" title="Partial 局部模版"></a>Partial <a href="https://hexo.io/zh-cn/docs/templates.html#%E5%B1%80%E9%83%A8%E6%A8%A1%E7%89%88%EF%BC%88Partial%EF%BC%89" target="_blank" rel="noopener">局部模版</a></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># with params</span></span><br><span class="line">&lt;%- partial(<span class="string">'_partial/footer'</span>, null, &#123;cache: !config.relative_link&#125;) %&gt;   <span class="comment"># Fragment Caching</span></span><br><span class="line"></span><br><span class="line">&lt;%- partial(<span class="string">'header'</span>, &#123;&#125;, &#123;cache: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span> <span class="attr">body</span> %&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="variables"><a href="#variables" class="headerlink" title="variables"></a><a href="https://hexo.io/zh-cn/docs/variables" target="_blank" rel="noopener">variables</a></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># use config variables</span></span><br><span class="line">&lt;%- config.var %&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># use theme variables</span></span><br><span class="line">&lt;%- theme.var %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="helpers"><a href="#helpers" class="headerlink" title="helpers"></a>helpers</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># load css</span></span><br><span class="line"></span><br><span class="line">&lt;%- css(path) %&gt;</span><br><span class="line">&lt;%- css([path1, path2]) %&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># url_for</span></span><br><span class="line"></span><br><span class="line">&lt;%- url_for(path) %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="sass-support"><a href="#sass-support" class="headerlink" title="sass support"></a>sass support</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-renderer-sass</span><br></pre></td></tr></table></figure>


        
        </div>
    </div>
  </div>

 
</div>
<div class="right">
   <div class="wrapper">
     <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" autocomplete="off"
    name="q" results="0" placeholder="Search" 
    class="search-input"/>
   </div>  
  <div id="local-search-result" class="search-content" style="display:none">
  </div>
  </div>
     <div class="filters">
<div class="filters-title">Tags</div>
 <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/">vscode</a><span class="tag-list-count">1</span></li></ul>
</div>
     <div class="filters">
<div class="filters-title"> Categories</div>
 <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/">frontend</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a><span class="category-list-count">1</span></li></ul>
</div>
     <div class="filters">
<div class="filters-title">Archives</div>
<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">4</span></li></ul>
</div>

     
  <div class="widget-wrap">
    <h3 class="widget-title">Recent posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/http/">http</a>
          </li>
        
          <li>
            <a href="/vscode-plugins/">vscode plugins</a>
          </li>
        
          <li>
            <a href="/css-tricks/">css tricks</a>
          </li>
        
          <li>
            <a href="/hexo-theme/">customize hexo theme</a>
          </li>
        
      </ul>
    </div>
  </div>

   </div>
</div>
</div>
</div></section>
      </div>
      <footer class="footer">
<div class="author">Created by &copy; paulxiaooo</div>
<div class="link">
<a href="https://github.com/paul-xiao/"><span class="fa fa-lg fa-github-square"></span></a>
</div>
</footer>
    </div>
  </div>
  <script src="/js/jquery.min.js"></script>
<script>
$(function () {
    window.addEventListener('keydown', function (e) {
        $('#local-search-result').hide();
        var val = $('#local-search-input').val()
        try {
            if(val && e.keyCode == 13){
               $('#local-search-input').blur();
            
                $.get('/search.json', function(data) {
                    const result = filterPosts(data, [val])
                     $('#local-search-result').show();
                     $('#local-search-result').append(createInnerHTML(result))
                })
            }
        } catch (error) {
            console.log(error);
        }
    })


    $('body').click(function() {
         $('#local-search-result').hide();
    })
    
})

function filterPosts(data, keywords) {
    var results = [];

    data.forEach(function(item) {
      var isMatch = false;
      var matchKeyWords = [];
      item.content = item.content.replace(/<[^>]*>/g, '');

      keywords.forEach(function(word) {
        var reg = new RegExp(word, 'i');
        var indexTitle = item.title.search(reg);
        var indexContent = item.content.search(reg);

        if (indexTitle > -1 || indexContent > -1) {
          isMatch = true;
          matchKeyWords.push(word);
        }
      });

      if (isMatch) {
        item.matchKeyWords = matchKeyWords;
        results.push(item);
      }
    });

    return results;
  }
function createInnerHTML(results) {
    var content = '';
    results.forEach(function(item) {
      var postContent;
      postContent = highlightText(item.content, item.matchKeyWords);
      postContent = getPreviewContent(postContent, item.matchKeyWords);

      item.title = highlightText(item.title, item.matchKeyWords);

      item = '<li class="search-item">' +
        '<a href="' + item.url + '"">' +
        '<h3 class="search-item-title">' + item.title + '</h3>' +
        '</a>' +
        '<p class="search-item-content">' + postContent + '</p>' +
        '</li>';
      content += item;
    });

    return content;
  }

  function getPreviewContent(content, matchKeyWords) {
    var isMatch = false;
    var index = 0;
    matchKeyWords.forEach(function(word) {
      var reg = new RegExp(word, 'i');
      index = content.search(reg);
      if (index < 0) {
        return;
      }

      isMatch = true;
    });

    if (isMatch) {
      if (index < 120) {
        content = content.substr(0, 140);
      } else {
        content = content.substr(index - 60, 200);
      }
    } else {
      content = content.substr(0, 120);
    }

    return content;
  }

  function highlightText(text, matchKeyWords) {
    text = text.replace(/<[^>]*>/g, '');
    matchKeyWords.forEach(function(word) {
      var reg = new RegExp('(' + word + ')', 'ig');
      text = text.replace(reg, '<span class="color-hightlight">$1</span>');
    });

    return text;
  }

</script>
</body>
</html>